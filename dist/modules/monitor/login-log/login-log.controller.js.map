{"version":3,"sources":["../../../../src/modules/monitor/login-log/login-log.controller.ts"],"sourcesContent":["import { Body, Controller, Delete, Post } from '@nestjs/common';\nimport {\n  ApiBearerAuth,\n  ApiOkResponse,\n  ApiOperation,\n  ApiTags,\n} from '@nestjs/swagger';\n\nimport { ENTITY_BIZ_TYPE } from '@/constants';\nimport { OperLog, Permission } from '@/decorators';\nimport { DelDTO, ExportResultVO } from '@/models';\n\nimport { FindLoginLogPageDTO } from './login-log.dto';\nimport { LoginLogService } from './login-log.service';\nimport { FindLoginLogPageVO } from './login-log.vo';\n\n@ApiTags('登录日志接口')\n@ApiBearerAuth()\n@Controller('/monitor/loginLog')\nexport class LoginLogController {\n  constructor(private loginLogService: LoginLogService) {}\n\n  @ApiOperation({ summary: '查询登录日志分页' })\n  @ApiOkResponse({ type: FindLoginLogPageVO })\n  @Permission('monitor:loginLog:list')\n  @Post('/page')\n  async findPage(@Body() dto: FindLoginLogPageDTO) {\n    return await this.loginLogService.handleFindPage(dto);\n  }\n\n  @ApiOperation({ summary: '导出登录日志分页' })\n  @ApiOkResponse({ type: ExportResultVO })\n  @OperLog({ title: '登录日志', bizType: ENTITY_BIZ_TYPE.EXPORT })\n  @Permission('monitor:loginLog:export')\n  @Post('/export')\n  async exportPage(@Body() dto: FindLoginLogPageDTO) {\n    return await this.loginLogService.handleExportPage(dto);\n  }\n\n  @ApiOperation({ summary: '删除登录日志' })\n  @OperLog({ title: '登录日志', bizType: ENTITY_BIZ_TYPE.DELETE })\n  @Permission('monitor:loginLog:remove')\n  @Delete('/delete')\n  async deleteMany(@Body() dto: DelDTO) {\n    await this.loginLogService.handleDeleteMany(dto);\n  }\n\n  @ApiOperation({ summary: '清空登录日志' })\n  @OperLog({ title: '登录日志', bizType: ENTITY_BIZ_TYPE.CLEAN })\n  @Permission('monitor:loginLog:remove')\n  @Delete('/clear')\n  async clear() {\n    await this.loginLogService.handleClear();\n  }\n}\n"],"names":["LoginLogController","findPage","dto","loginLogService","handleFindPage","exportPage","handleExportPage","deleteMany","handleDeleteMany","clear","handleClear","constructor","ApiOperation","summary","ApiOkResponse","type","FindLoginLogPageVO","Permission","Post","Body","ExportResultVO","OperLog","title","bizType","ENTITY_BIZ_TYPE","EXPORT","DELETE","Delete","CLEAN","ApiTags","ApiBearerAuth","Controller"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAmBaA;;;eAAAA;;;wBAnBkC;yBAMxC;2BAEyB;4BACI;wBACG;6BAEH;iCACJ;4BACG;;;;;;;;;;;;;;;AAK5B,IAAA,AAAMA,qBAAN,MAAMA;IAGX,MAIMC,SAAS,AAAQC,GAAwB,EAAE;QAC/C,OAAO,MAAM,IAAI,CAACC,eAAe,CAACC,cAAc,CAACF;IACnD;IAEA,MAKMG,WAAW,AAAQH,GAAwB,EAAE;QACjD,OAAO,MAAM,IAAI,CAACC,eAAe,CAACG,gBAAgB,CAACJ;IACrD;IAEA,MAIMK,WAAW,AAAQL,GAAW,EAAE;QACpC,MAAM,IAAI,CAACC,eAAe,CAACK,gBAAgB,CAACN;IAC9C;IAEA,MAIMO,QAAQ;QACZ,MAAM,IAAI,CAACN,eAAe,CAACO,WAAW;IACxC;IAjCAC,YAAY,AAAQR,eAAgC,CAAE;aAAlCA,kBAAAA;IAAmC;AAkCzD;;IAhCGS,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAW;IACnCC,IAAAA,sBAAa,EAAC;QAAEC,MAAMC,8BAAkB;IAAC;IACzCC,IAAAA,sBAAU,EAAC;IACXC,IAAAA,YAAI,EAAC;IACUC,aAAAA,IAAAA,YAAI;;;eAAQ,gCAAmB,4BAAnB,gCAAmB;;;GAPpCnB;;IAWVY,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAW;IACnCC,IAAAA,sBAAa,EAAC;QAAEC,MAAMK,sBAAc;IAAC;IACrCC,IAAAA,mBAAO,EAAC;QAAEC,OAAO;QAAQC,SAASC,0BAAe,CAACC,MAAM;IAAC;IACzDR,IAAAA,sBAAU,EAAC;IACXC,IAAAA,YAAI,EAAC;IACYC,aAAAA,IAAAA,YAAI;;;eAAQ,gCAAmB,4BAAnB,gCAAmB;;;GAhBtCnB;;IAoBVY,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAS;IACjCQ,IAAAA,mBAAO,EAAC;QAAEC,OAAO;QAAQC,SAASC,0BAAe,CAACE,MAAM;IAAC;IACzDT,IAAAA,sBAAU,EAAC;IACXU,IAAAA,cAAM,EAAC;IACUR,aAAAA,IAAAA,YAAI;;;eAAQ,cAAM,4BAAN,cAAM;;;GAxBzBnB;;IA4BVY,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAS;IACjCQ,IAAAA,mBAAO,EAAC;QAAEC,OAAO;QAAQC,SAASC,0BAAe,CAACI,KAAK;IAAC;IACxDX,IAAAA,sBAAU,EAAC;IACXU,IAAAA,cAAM,EAAC;;;;GA/BG3B;AAAAA;IAHZ6B,IAAAA,gBAAO,EAAC;IACRC,IAAAA,sBAAa;IACbC,IAAAA,kBAAU,EAAC;;;eAE2B,gCAAe,4BAAf,gCAAe;;GADzC/B"}