{"version":3,"sources":["../../../../src/modules/website/site/site.controller.ts"],"sourcesContent":["import { Controller, Get, Query, Body, Post, Put } from '@nestjs/common';\nimport {\n  ApiBearerAuth,\n  ApiTags,\n  ApiOperation,\n  ApiQuery,\n  ApiOkResponse,\n} from '@nestjs/swagger';\n\nimport { OperLog, Permission } from '@/decorators';\nimport { CACHES, ENTITY_BIZ_TYPE } from '@/constants';\nimport { SiteService } from './site.service';\nimport { GetSiteInfoVO } from './site.vo';\nimport { UpdateConfigDTO } from './site.dto';\n\n@ApiTags('网站配置接口')\n@ApiBearerAuth()\n@Controller('/website/info')\nexport class SiteController {\n  constructor(private SiteService: SiteService) {}\n\n  @ApiOperation({ summary: '获取网站配置' })\n  @ApiQuery({ name: 'id', description: '主键', example: '1' })\n  @ApiOkResponse({ type: GetSiteInfoVO })\n  @Permission('website:info:all')\n  @Get('/get')\n  async getInfo(@Query('id') id: string) {\n    return await this.SiteService.handleGetSiteInfo(id);\n  }\n\n  @ApiOperation({ summary: '更新网站配置' })\n  @ApiQuery({ name: 'id', description: '主键', example: '1' })\n  @OperLog({ title: '更新网站配置', bizType: ENTITY_BIZ_TYPE.UPDATE })\n  @Permission('website:info:edit')\n  @Put('/update')\n  async updateInfo(@Query('id') id: string, @Body() dto: UpdateConfigDTO) {\n    return await this.SiteService.handleUpdateSiteInfo(id, dto);\n  }\n}\n"],"names":["SiteController","getInfo","id","SiteService","handleGetSiteInfo","updateInfo","dto","handleUpdateSiteInfo","constructor","ApiOperation","summary","ApiQuery","name","description","example","ApiOkResponse","type","GetSiteInfoVO","Permission","Get","Query","OperLog","title","bizType","ENTITY_BIZ_TYPE","UPDATE","Put","Body","ApiTags","ApiBearerAuth","Controller"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAkBaA;;;eAAAA;;;wBAlB2C;yBAOjD;4BAE6B;2BACI;6BACZ;wBACE;yBACE;;;;;;;;;;;;;;;AAKzB,IAAA,AAAMA,iBAAN,MAAMA;IAGX,MAKMC,QAAQ,AAAaC,EAAU,EAAE;QACrC,OAAO,MAAM,IAAI,CAACC,WAAW,CAACC,iBAAiB,CAACF;IAClD;IAEA,MAKMG,WAAW,AAAaH,EAAU,EAAE,AAAQI,GAAoB,EAAE;QACtE,OAAO,MAAM,IAAI,CAACH,WAAW,CAACI,oBAAoB,CAACL,IAAII;IACzD;IAlBAE,YAAY,AAAQL,WAAwB,CAAE;aAA1BA,cAAAA;IAA2B;AAmBjD;;IAjBGM,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAS;IACjCC,IAAAA,iBAAQ,EAAC;QAAEC,MAAM;QAAMC,aAAa;QAAMC,SAAS;IAAI;IACvDC,IAAAA,sBAAa,EAAC;QAAEC,MAAMC,qBAAa;IAAC;IACpCC,IAAAA,sBAAU,EAAC;IACXC,IAAAA,WAAG,EAAC;IACUC,aAAAA,IAAAA,aAAK,EAAC;;;;;;GARVpB;;IAYVS,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAS;IACjCC,IAAAA,iBAAQ,EAAC;QAAEC,MAAM;QAAMC,aAAa;QAAMC,SAAS;IAAI;IACvDO,IAAAA,mBAAO,EAAC;QAAEC,OAAO;QAAUC,SAASC,0BAAe,CAACC,MAAM;IAAC;IAC3DP,IAAAA,sBAAU,EAAC;IACXQ,IAAAA,WAAG,EAAC;IACaN,aAAAA,IAAAA,aAAK,EAAC;IAAmBO,aAAAA,IAAAA,YAAI;;;;eAAQ,wBAAe,4BAAf,wBAAe;;;GAjB3D3B;AAAAA;IAHZ4B,IAAAA,gBAAO,EAAC;IACRC,IAAAA,sBAAa;IACbC,IAAAA,kBAAU,EAAC;;;eAEuB,wBAAW,4BAAX,wBAAW;;GADjC9B"}