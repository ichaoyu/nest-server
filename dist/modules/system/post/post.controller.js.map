{"version":3,"sources":["../../../../src/modules/system/post/post.controller.ts"],"sourcesContent":["import { Body, Controller, Delete, Post, Put, Query } from '@nestjs/common';\nimport {\n  ApiBearerAuth,\n  ApiOkResponse,\n  ApiOperation,\n  ApiQuery,\n  ApiTags,\n} from '@nestjs/swagger';\n\nimport { ENTITY_BIZ_TYPE } from '@/constants';\nimport { OperLog, Permission } from '@/decorators';\nimport { DelDTO, ExportResultVO } from '@/models';\n\nimport { CreatePostDTO, FindPostPageDTO, UpdatePostDTO } from './post.dto';\nimport { PostService } from './post.service';\nimport { FindPostPageVO } from './post.vo';\n\n@ApiTags('岗位接口')\n@ApiBearerAuth()\n@Controller('/system/post')\nexport class PostController {\n  constructor(private postService: PostService) {}\n\n  @ApiOperation({ summary: '查询岗位分页' })\n  @ApiOkResponse({ type: FindPostPageVO })\n  @Permission('system:post:list')\n  @Post('/page')\n  async findPage(@Body() dto: FindPostPageDTO) {\n    return await this.postService.handleFindPage(dto);\n  }\n\n  @ApiOperation({ summary: '新增岗位' })\n  @OperLog({ title: '岗位管理', bizType: ENTITY_BIZ_TYPE.INSERT })\n  @Permission('system:post:add')\n  @Post('/create')\n  async create(@Body() dto: CreatePostDTO) {\n    return await this.postService.handleCreate(dto);\n  }\n\n  @ApiOperation({ summary: '更新岗位' })\n  @ApiQuery({ name: 'id', description: '主键' })\n  @OperLog({ title: '岗位管理', bizType: ENTITY_BIZ_TYPE.UPDATE })\n  @Permission('system:post:edit')\n  @Put('/update')\n  async updatePost(@Query('id') id: string, @Body() dto: UpdatePostDTO) {\n    await this.postService.handleUpdate(id, dto);\n  }\n\n  @ApiOperation({ summary: '删除岗位' })\n  @OperLog({ title: '岗位管理', bizType: ENTITY_BIZ_TYPE.DELETE })\n  @Permission('system:post:remove')\n  @Delete('/delete')\n  async deleteMany(@Body() dto: DelDTO) {\n    await this.postService.handleDeleteMany(dto);\n  }\n\n  @ApiOperation({ summary: '导出岗位分页' })\n  @ApiOkResponse({ type: ExportResultVO })\n  @OperLog({ title: '岗位管理', bizType: ENTITY_BIZ_TYPE.EXPORT })\n  @Permission('system:post:export')\n  @Post('/export')\n  async exportPage(@Body() dto: FindPostPageDTO) {\n    return await this.postService.handleExportPage(dto);\n  }\n}\n"],"names":["PostController","findPage","dto","postService","handleFindPage","create","handleCreate","updatePost","id","handleUpdate","deleteMany","handleDeleteMany","exportPage","handleExportPage","constructor","ApiOperation","summary","ApiOkResponse","type","FindPostPageVO","Permission","Post","Body","OperLog","title","bizType","ENTITY_BIZ_TYPE","INSERT","ApiQuery","name","description","UPDATE","Put","Query","DELETE","Delete","ExportResultVO","EXPORT","ApiTags","ApiBearerAuth","Controller"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAoBaA;;;eAAAA;;;wBApB8C;yBAOpD;2BAEyB;4BACI;wBACG;yBAEuB;6BAClC;wBACG;;;;;;;;;;;;;;;AAKxB,IAAA,AAAMA,iBAAN,MAAMA;IAGX,MAIMC,SAAS,AAAQC,GAAoB,EAAE;QAC3C,OAAO,MAAM,IAAI,CAACC,WAAW,CAACC,cAAc,CAACF;IAC/C;IAEA,MAIMG,OAAO,AAAQH,GAAkB,EAAE;QACvC,OAAO,MAAM,IAAI,CAACC,WAAW,CAACG,YAAY,CAACJ;IAC7C;IAEA,MAKMK,WAAW,AAAaC,EAAU,EAAE,AAAQN,GAAkB,EAAE;QACpE,MAAM,IAAI,CAACC,WAAW,CAACM,YAAY,CAACD,IAAIN;IAC1C;IAEA,MAIMQ,WAAW,AAAQR,GAAW,EAAE;QACpC,MAAM,IAAI,CAACC,WAAW,CAACQ,gBAAgB,CAACT;IAC1C;IAEA,MAKMU,WAAW,AAAQV,GAAoB,EAAE;QAC7C,OAAO,MAAM,IAAI,CAACC,WAAW,CAACU,gBAAgB,CAACX;IACjD;IA1CAY,YAAY,AAAQX,WAAwB,CAAE;aAA1BA,cAAAA;IAA2B;AA2CjD;;IAzCGY,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAS;IACjCC,IAAAA,sBAAa,EAAC;QAAEC,MAAMC,sBAAc;IAAC;IACrCC,IAAAA,sBAAU,EAAC;IACXC,IAAAA,YAAI,EAAC;IACUC,aAAAA,IAAAA,YAAI;;;eAAQ,wBAAe,4BAAf,wBAAe;;;GAPhCtB;;IAWVe,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAO;IAC/BO,IAAAA,mBAAO,EAAC;QAAEC,OAAO;QAAQC,SAASC,0BAAe,CAACC,MAAM;IAAC;IACzDP,IAAAA,sBAAU,EAAC;IACXC,IAAAA,YAAI,EAAC;IACQC,aAAAA,IAAAA,YAAI;;;eAAQ,sBAAa,4BAAb,sBAAa;;;GAf5BtB;;IAmBVe,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAO;IAC/BY,IAAAA,iBAAQ,EAAC;QAAEC,MAAM;QAAMC,aAAa;IAAK;IACzCP,IAAAA,mBAAO,EAAC;QAAEC,OAAO;QAAQC,SAASC,0BAAe,CAACK,MAAM;IAAC;IACzDX,IAAAA,sBAAU,EAAC;IACXY,IAAAA,WAAG,EAAC;IACaC,aAAAA,IAAAA,aAAK,EAAC;IAAmBX,aAAAA,IAAAA,YAAI;;;;eAAQ,sBAAa,4BAAb,sBAAa;;;GAxBzDtB;;IA4BVe,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAO;IAC/BO,IAAAA,mBAAO,EAAC;QAAEC,OAAO;QAAQC,SAASC,0BAAe,CAACQ,MAAM;IAAC;IACzDd,IAAAA,sBAAU,EAAC;IACXe,IAAAA,cAAM,EAAC;IACUb,aAAAA,IAAAA,YAAI;;;eAAQ,cAAM,4BAAN,cAAM;;;GAhCzBtB;;IAoCVe,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAS;IACjCC,IAAAA,sBAAa,EAAC;QAAEC,MAAMkB,sBAAc;IAAC;IACrCb,IAAAA,mBAAO,EAAC;QAAEC,OAAO;QAAQC,SAASC,0BAAe,CAACW,MAAM;IAAC;IACzDjB,IAAAA,sBAAU,EAAC;IACXC,IAAAA,YAAI,EAAC;IACYC,aAAAA,IAAAA,YAAI;;;eAAQ,wBAAe,4BAAf,wBAAe;;;GAzClCtB;AAAAA;IAHZsC,IAAAA,gBAAO,EAAC;IACRC,IAAAA,sBAAa;IACbC,IAAAA,kBAAU,EAAC;;;eAEuB,wBAAW,4BAAX,wBAAW;;GADjCxC"}