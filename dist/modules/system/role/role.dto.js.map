{"version":3,"sources":["../../../../src/modules/system/role/role.dto.ts"],"sourcesContent":["import { ApiProperty, ApiPropertyOptional } from '@nestjs/swagger';\nimport {\n  IsArray,\n  IsDateString,\n  IsEnum,\n  IsNotEmpty,\n  IsOptional,\n  IsPhoneNumber,\n  IsPositive,\n  MinLength,\n} from 'class-validator';\n\nimport { ENTITY_STATUS } from '@/constants';\nimport { PageDTO } from '@/models';\n\n/**\n * 查找角色分页请求传输对象\n */\nexport class FindRolePageDTO extends PageDTO {\n  @ApiPropertyOptional({ description: '角色名称' })\n  @IsOptional()\n  roleName: string;\n\n  @ApiPropertyOptional({ description: '权限字符' })\n  @IsOptional()\n  roleKey: string;\n\n  @ApiPropertyOptional({\n    description: '状态',\n    enum: ENTITY_STATUS,\n  })\n  @IsOptional()\n  @IsEnum(ENTITY_STATUS, { message: '状态非法值' })\n  status: ENTITY_STATUS;\n\n  @ApiPropertyOptional({ description: '开始时间' })\n  @IsOptional()\n  @IsDateString({}, { message: '开始时间格式不正确' })\n  beginDate: Date;\n\n  @ApiPropertyOptional({ description: '结束时间' })\n  @IsOptional()\n  @IsDateString({}, { message: '结束时间格式不正确' })\n  endDate: Date;\n}\n\n/**\n * 查找已分配用户分页请求传输对象\n */\nexport class FindAllocatedPageDTO extends PageDTO {\n  @ApiPropertyOptional({ description: '账户' })\n  @IsOptional()\n  userName: string;\n\n  @ApiPropertyOptional({ description: '手机' })\n  @IsOptional()\n  @IsPhoneNumber('CN', { message: '手机格式不正确' })\n  phone: string;\n}\n\n/**\n * 添加角色请求传输对象\n */\nexport class CreateRoleDTO {\n  @ApiProperty({ description: '角色名称' })\n  @IsNotEmpty({ message: '角色名称不能为空' })\n  roleName: string;\n\n  @ApiProperty({ description: '权限字符' })\n  @IsNotEmpty({ message: '权限字符不能为空' })\n  roleKey: string;\n\n  @ApiProperty({ description: '显示顺序' })\n  @IsPositive({ message: '显示顺序为正整数' })\n  roleSort: number;\n\n  @ApiProperty({\n    description: '菜单主键列表',\n    type: 'array',\n    items: { type: 'string' },\n    default: [],\n  })\n  @IsArray()\n  menus: string[];\n\n  @ApiProperty({\n    description: '状态',\n    enum: ENTITY_STATUS,\n    default: '',\n  })\n  @IsNotEmpty({ message: '状态不能为空' })\n  @IsEnum(ENTITY_STATUS, { message: '状态非法值' })\n  status: ENTITY_STATUS;\n\n  @ApiProperty({ description: '备注', default: '' })\n  @IsNotEmpty({ message: '备注不能为空' })\n  remark: string;\n}\n\n/**\n * 更新角色请求传输对象\n */\nexport class UpdateRoleDTO extends CreateRoleDTO {}\n\n/**\n * 获取未分配用户分页请求传输对象\n */\nexport class FindUnallocatedPageDTO extends PageDTO {\n  @ApiPropertyOptional({ description: '账号' })\n  @IsOptional()\n  userName: string;\n\n  @ApiPropertyOptional({ description: '手机' })\n  @IsOptional()\n  @IsPhoneNumber('CN', { message: '手机格式不正确' })\n  phone: string;\n}\n\n/**\n * 分配用户请求传输对象\n */\nexport class AllocateDTO {\n  @ApiProperty({\n    description: '用户主键数组',\n    type: 'array',\n    items: { type: 'string' },\n  })\n  @IsArray()\n  @MinLength(1, { message: '用户主键数组不能为空' })\n  ids: string[];\n}\n"],"names":["AllocateDTO","CreateRoleDTO","FindAllocatedPageDTO","FindRolePageDTO","FindUnallocatedPageDTO","UpdateRoleDTO","PageDTO","ApiPropertyOptional","description","IsOptional","enum","ENTITY_STATUS","IsEnum","message","IsDateString","IsPhoneNumber","ApiProperty","IsNotEmpty","IsPositive","type","items","default","IsArray","MinLength"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAyHaA,WAAW;eAAXA;;IA1DAC,aAAa;eAAbA;;IAdAC,oBAAoB;eAApBA;;IA/BAC,eAAe;eAAfA;;IAyFAC,sBAAsB;eAAtBA;;IALAC,aAAa;eAAbA;;;yBAtGoC;gCAU1C;2BAEuB;wBACN;;;;;;;;;;AAKjB,IAAA,AAAMF,kBAAN,MAAMA,wBAAwBG,eAAO;AA0B5C;;IAzBGC,IAAAA,4BAAmB,EAAC;QAAEC,aAAa;IAAO;IAC1CC,IAAAA,0BAAU;;GAFAN;;IAKVI,IAAAA,4BAAmB,EAAC;QAAEC,aAAa;IAAO;IAC1CC,IAAAA,0BAAU;;GANAN;;IASVI,IAAAA,4BAAmB,EAAC;QACnBC,aAAa;QACbE,MAAMC,wBAAa;IACrB;IACCF,IAAAA,0BAAU;IACVG,IAAAA,sBAAM,EAACD,wBAAa,EAAE;QAAEE,SAAS;IAAQ;uCAClC,wBAAa,4BAAb,wBAAa;GAfVV;;IAiBVI,IAAAA,4BAAmB,EAAC;QAAEC,aAAa;IAAO;IAC1CC,IAAAA,0BAAU;IACVK,IAAAA,4BAAY,EAAC,CAAC,GAAG;QAAED,SAAS;IAAY;uCAC9B,gCAAA;GApBAV;;IAsBVI,IAAAA,4BAAmB,EAAC;QAAEC,aAAa;IAAO;IAC1CC,IAAAA,0BAAU;IACVK,IAAAA,4BAAY,EAAC,CAAC,GAAG;QAAED,SAAS;IAAY;uCAChC,gCAAA;GAzBEV;AA+BN,IAAA,AAAMD,uBAAN,MAAMA,6BAA6BI,eAAO;AASjD;;IARGC,IAAAA,4BAAmB,EAAC;QAAEC,aAAa;IAAK;IACxCC,IAAAA,0BAAU;;GAFAP;;IAKVK,IAAAA,4BAAmB,EAAC;QAAEC,aAAa;IAAK;IACxCC,IAAAA,0BAAU;IACVM,IAAAA,6BAAa,EAAC,MAAM;QAAEF,SAAS;IAAU;;GAP/BX;AAcN,IAAA,AAAMD,gBAAN,MAAMA;AAkCb;;IAjCGe,IAAAA,oBAAW,EAAC;QAAER,aAAa;IAAO;IAClCS,IAAAA,0BAAU,EAAC;QAAEJ,SAAS;IAAW;;GAFvBZ;;IAKVe,IAAAA,oBAAW,EAAC;QAAER,aAAa;IAAO;IAClCS,IAAAA,0BAAU,EAAC;QAAEJ,SAAS;IAAW;;GANvBZ;;IASVe,IAAAA,oBAAW,EAAC;QAAER,aAAa;IAAO;IAClCU,IAAAA,0BAAU,EAAC;QAAEL,SAAS;IAAW;;GAVvBZ;;IAaVe,IAAAA,oBAAW,EAAC;QACXR,aAAa;QACbW,MAAM;QACNC,OAAO;YAAED,MAAM;QAAS;QACxBE,SAAS,EAAE;IACb;IACCC,IAAAA,uBAAO;;GAnBGrB;;IAsBVe,IAAAA,oBAAW,EAAC;QACXR,aAAa;QACbE,MAAMC,wBAAa;QACnBU,SAAS;IACX;IACCJ,IAAAA,0BAAU,EAAC;QAAEJ,SAAS;IAAS;IAC/BD,IAAAA,sBAAM,EAACD,wBAAa,EAAE;QAAEE,SAAS;IAAQ;uCAClC,wBAAa,4BAAb,wBAAa;GA7BVZ;;IA+BVe,IAAAA,oBAAW,EAAC;QAAER,aAAa;QAAMa,SAAS;IAAG;IAC7CJ,IAAAA,0BAAU,EAAC;QAAEJ,SAAS;IAAS;;GAhCrBZ;AAuCN,IAAA,AAAMI,gBAAN,MAAMA,sBAAsBJ;AAAe;AAK3C,IAAA,AAAMG,yBAAN,MAAMA,+BAA+BE,eAAO;AASnD;;IARGC,IAAAA,4BAAmB,EAAC;QAAEC,aAAa;IAAK;IACxCC,IAAAA,0BAAU;;GAFAL;;IAKVG,IAAAA,4BAAmB,EAAC;QAAEC,aAAa;IAAK;IACxCC,IAAAA,0BAAU;IACVM,IAAAA,6BAAa,EAAC,MAAM;QAAEF,SAAS;IAAU;;GAP/BT;AAcN,IAAA,AAAMJ,cAAN,MAAMA;AASb;;IARGgB,IAAAA,oBAAW,EAAC;QACXR,aAAa;QACbW,MAAM;QACNC,OAAO;YAAED,MAAM;QAAS;IAC1B;IACCG,IAAAA,uBAAO;IACPC,IAAAA,yBAAS,EAAC,GAAG;QAAEV,SAAS;IAAa;;GAP3Bb"}