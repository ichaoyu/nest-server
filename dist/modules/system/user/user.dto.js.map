{"version":3,"sources":["../../../../src/modules/system/user/user.dto.ts"],"sourcesContent":["import { ApiProperty, ApiPropertyOptional, OmitType } from '@nestjs/swagger';\nimport {\n  IsArray,\n  IsDateString,\n  IsEmail,\n  IsEnum,\n  IsNotEmpty,\n  IsOptional,\n  IsPhoneNumber,\n  MinLength,\n} from 'class-validator';\n\nimport { ENTITY_SEX, ENTITY_STATUS } from '@/constants';\nimport { PageDTO } from '@/models';\n\n/**\n * 查找用户分页请求传输对象\n */\nexport class FindUserPageDTO extends PageDTO {\n  @ApiPropertyOptional({ description: '部门主键' })\n  @IsOptional()\n  deptId: string;\n\n  @ApiPropertyOptional({ description: '账号' })\n  @IsOptional()\n  userName: string;\n\n  @ApiPropertyOptional({ description: '手机' })\n  @IsOptional()\n  @IsPhoneNumber('CN', { message: '手机格式不正确' })\n  phone: string;\n\n  @ApiPropertyOptional({\n    description: '状态',\n    enum: ENTITY_STATUS,\n  })\n  @IsOptional()\n  @IsEnum(ENTITY_STATUS, { message: '状态非法值' })\n  status: ENTITY_STATUS;\n\n  @ApiPropertyOptional({ description: '开始时间' })\n  @IsOptional()\n  @IsDateString({}, { message: '开始时间格式不正确' })\n  beginDate: Date;\n\n  @ApiPropertyOptional({ description: '结束时间' })\n  @IsOptional()\n  @IsDateString({}, { message: '结束时间格式不正确' })\n  endDate: Date;\n}\n\n/**\n *  添加用户请求传输对象\n */\nexport class CreateUserDTO {\n  @ApiProperty({ description: '昵称' })\n  @IsNotEmpty({ message: '昵称不能为空' })\n  nickName: string;\n\n  @ApiPropertyOptional({ description: '部门主键' })\n  @IsOptional()\n  deptId: string;\n\n  @ApiPropertyOptional({ description: '手机' })\n  @IsOptional()\n  @IsPhoneNumber('CN', { message: '手机格式不正确' })\n  phone: string;\n\n  @ApiPropertyOptional({ description: '邮箱' })\n  @IsOptional()\n  @IsEmail({}, { message: '邮箱格式不正确' })\n  email: string;\n\n  @ApiProperty({ description: '账号' })\n  @IsNotEmpty({ message: '账号不能为空' })\n  userName: string;\n\n  @ApiProperty({ description: '密码' })\n  @IsNotEmpty({ message: '密码不能为空' })\n  password: string;\n\n  @ApiPropertyOptional({\n    description: '性别',\n    enum: ENTITY_SEX,\n  })\n  @IsOptional()\n  @IsEnum(ENTITY_SEX, { message: '性别非法值' })\n  sex: ENTITY_SEX;\n\n  @ApiPropertyOptional({\n    description: '状态',\n    enum: ENTITY_STATUS,\n  })\n  @IsOptional()\n  @IsEnum(ENTITY_STATUS, { message: '状态非法值' })\n  status: ENTITY_STATUS;\n\n  @ApiPropertyOptional({\n    description: '岗位主键数组',\n    type: 'array',\n    items: { type: 'string' },\n  })\n  @IsOptional()\n  @IsArray()\n  postIds: string[];\n\n  @ApiPropertyOptional({\n    description: '角色主键数组',\n    type: 'array',\n    items: { type: 'string' },\n  })\n  @IsOptional()\n  @IsArray()\n  roleIds: string[];\n\n  @ApiPropertyOptional({ description: '备注' })\n  @IsOptional()\n  remark: string;\n}\n\n/**\n * 修改用户请求传输对象\n */\nexport class UpdateUserDTO extends OmitType(CreateUserDTO, [\n  'userName',\n  'password',\n]) {}\n\n/**\n * 重置密码请求传输对象\n */\nexport class ResetPasswordDTO {\n  @ApiProperty({ description: '密码' })\n  @IsNotEmpty({ message: '密码不能为空' })\n  @MinLength(6, { message: '密码最少6位' })\n  password: string;\n}\n"],"names":["CreateUserDTO","FindUserPageDTO","ResetPasswordDTO","UpdateUserDTO","PageDTO","ApiPropertyOptional","description","IsOptional","IsPhoneNumber","message","enum","ENTITY_STATUS","IsEnum","IsDateString","ApiProperty","IsNotEmpty","IsEmail","ENTITY_SEX","type","items","IsArray","OmitType","MinLength"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":"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"}