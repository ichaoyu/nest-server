{"version":3,"sources":["../../../src/modules/current-user/current-user.vo.ts"],"sourcesContent":["import { ApiExtraModels, ApiProperty, getSchemaPath } from '@nestjs/swagger';\n\nimport { SysUserEntityVO } from '@/database';\nimport { IUserMenu } from '@/interfaces';\nimport { ResultVO } from '@/models';\n\ntype IMeta = IUserMenu['meta'];\n\n/**\n * 元信息响应传输对象\n */\nclass MetaVO implements IMeta {\n  @ApiProperty({ description: '标题' })\n  title: string;\n\n  @ApiProperty({ description: '图标' })\n  icon: string;\n\n  @ApiProperty({ description: '排序' })\n  sort: number;\n\n  @ApiProperty({ description: '是否隐藏' })\n  hidden: boolean;\n\n  @ApiProperty({ description: '是否缓存' })\n  noCache: boolean;\n\n  @ApiProperty({ description: '是否一直显示' })\n  alwaysShow: boolean;\n}\n\n/**\n * 用户菜单响应传输对象\n */\nclass UserMenuVO implements IUserMenu {\n  @ApiProperty({ description: '标识' })\n  key: string;\n\n  @ApiProperty({ description: '父级标识' })\n  parentKey: string;\n\n  @ApiProperty({ description: '路由地址' })\n  path: string;\n\n  @ApiProperty({ description: '组件名称' })\n  name: string;\n\n  @ApiProperty({ description: '跳转地址' })\n  redirect: string;\n\n  @ApiProperty({ description: '组件路径' })\n  component: string;\n\n  @ApiProperty({ description: '组件路径' })\n  componentName: string;\n\n  @ApiProperty({ description: '元信息', type: MetaVO })\n  meta: IMeta;\n\n  @ApiProperty({\n    description: '子菜单',\n    type: 'array',\n    items: { type: 'object' },\n  })\n  children: IUserMenu[];\n}\n\n/**\n * 当前用户信息响应传输对象\n */\n@ApiExtraModels(UserMenuVO)\nclass CurrentUserInfoVO {\n  @ApiProperty({\n    description: '菜单列表',\n    type: 'array',\n    items: { $ref: getSchemaPath(UserMenuVO) },\n  })\n  menus: any;\n\n  @ApiProperty({\n    description: '角色列表',\n    type: 'array',\n    items: { type: 'string' },\n  })\n  roles: string[];\n\n  @ApiProperty({\n    description: '权限列表',\n    type: 'array',\n    items: { type: 'string' },\n  })\n  permissions: string[];\n\n  @ApiProperty({ description: '当前用户信息', type: SysUserEntityVO })\n  user: SysUserEntityVO;\n}\n\n/**\n * 获取当前用户信息响应传输对象\n */\nexport class GetCurrentUserInfoVO extends ResultVO(CurrentUserInfoVO) {}\n\n/**\n * 当前用户配置响应传输对象\n */\nclass CurrentUserProfileVO extends SysUserEntityVO {\n  @ApiProperty({ description: '岗位组' })\n  postGroup: string;\n\n  @ApiProperty({ description: '角色组' })\n  roleGroup: string;\n\n  @ApiProperty({ description: '部门名称' })\n  deptName: string;\n}\n\n/**\n * 获取当前用户配置响应传输对象\n */\nexport class GetCurrentUserProfileVO extends ResultVO(CurrentUserProfileVO) {}\n"],"names":["GetCurrentUserInfoVO","GetCurrentUserProfileVO","MetaVO","ApiProperty","description","UserMenuVO","type","items","CurrentUserInfoVO","$ref","getSchemaPath","SysUserEntityVO","ApiExtraModels","ResultVO","CurrentUserProfileVO"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAoGaA,oBAAoB;eAApBA;;IAmBAC,uBAAuB;eAAvBA;;;yBAvH8C;0BAE3B;wBAEP;;;;;;;;;;AAIzB;;CAEC,GACD,IAAA,AAAMC,SAAN,MAAMA;AAkBN;;IAjBGC,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAK;;GAD7BF;;IAIHC,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAK;;GAJ7BF;;IAOHC,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAK;;GAP7BF;;IAUHC,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;;GAV/BF;;IAaHC,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;;GAb/BF;;IAgBHC,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAS;;GAhBjCF;AAoBN;;CAEC,GACD,IAAA,AAAMG,aAAN,MAAMA;AA+BN;;IA9BGF,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAK;;GAD7BC;;IAIHF,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;;GAJ/BC;;IAOHF,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;;GAP/BC;;IAUHF,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;;GAV/BC;;IAaHF,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;;GAb/BC;;IAgBHF,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;;GAhB/BC;;IAmBHF,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;;GAnB/BC;;IAsBHF,IAAAA,oBAAW,EAAC;QAAEC,aAAa;QAAOE,MAAMJ;IAAO;uCAC1C,iCAAA;GAvBFG;;IAyBHF,IAAAA,oBAAW,EAAC;QACXC,aAAa;QACbE,MAAM;QACNC,OAAO;YAAED,MAAM;QAAS;IAC1B;;GA7BID;AAiCN;;CAEC,GACD,IAAA,AACMG,oBADN,MACMA;AAwBN;;IAvBGL,IAAAA,oBAAW,EAAC;QACXC,aAAa;QACbE,MAAM;QACNC,OAAO;YAAEE,MAAMC,IAAAA,sBAAa,EAACL;QAAY;IAC3C;;GALIG;;IAQHL,IAAAA,oBAAW,EAAC;QACXC,aAAa;QACbE,MAAM;QACNC,OAAO;YAAED,MAAM;QAAS;IAC1B;;GAZIE;;IAeHL,IAAAA,oBAAW,EAAC;QACXC,aAAa;QACbE,MAAM;QACNC,OAAO;YAAED,MAAM;QAAS;IAC1B;;GAnBIE;;IAsBHL,IAAAA,oBAAW,EAAC;QAAEC,aAAa;QAAUE,MAAMK,yBAAe;IAAC;uCACtD,yBAAe,4BAAf,yBAAe;GAvBjBH;AAAAA;IADLI,IAAAA,uBAAc,EAACP;GACVG;AA6BC,IAAA,AAAMR,uBAAN,MAAMA,6BAA6Ba,IAAAA,gBAAQ,EAACL;AAAoB;AAEvE;;CAEC,GACD,IAAA,AAAMM,uBAAN,MAAMA,6BAA6BH,yBAAe;AASlD;;IARGR,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAM;;GAD9BU;;IAIHX,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAM;;GAJ9BU;;IAOHX,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;;GAP/BU;AAcC,IAAA,AAAMb,0BAAN,MAAMA,gCAAgCY,IAAAA,gBAAQ,EAACC;AAAuB"}