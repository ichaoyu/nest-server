{"version":3,"sources":["../../../src/modules/current-user/current-user.dto.ts"],"sourcesContent":["import { ApiProperty } from '@nestjs/swagger';\nimport { IsEqualWith } from '@/shared/validators';\nimport {\n  IsEmail,\n  IsEnum,\n  IsNotEmpty,\n  IsPhoneNumber,\n  MinLength,\n} from 'class-validator';\n\nimport { ENTITY_SEX } from '@/constants';\n\n/**\n * 更新当前用户基本信息请求传输对象\n */\nexport class UpdateCurrentUserBaseDTO {\n  @ApiProperty({ description: '用户昵称' })\n  nickName: string;\n\n  @ApiProperty({ description: '手机号码' })\n  @IsNotEmpty({ message: '手机号码不能为空' })\n  @IsPhoneNumber('CN', { message: '手机号码格式不正确' })\n  phone: string;\n\n  @ApiProperty({ description: '邮箱地址' })\n  @IsNotEmpty({ message: '邮箱地址不能为空' })\n  @IsEmail({}, { message: '邮箱地址格式不正确' })\n  email: string;\n\n  @ApiProperty({\n    description: '性别',\n    enum: ENTITY_SEX,\n  })\n  @IsEnum(ENTITY_SEX, { message: '性别非法值' })\n  sex: ENTITY_SEX;\n}\n\n/**\n * 更新用户密码请求传输对象\n */\nexport class UpdateCurrentUserPasswordDTO {\n  @ApiProperty({ description: '旧密码' })\n  @IsNotEmpty({ message: '旧密码不能为空' })\n  oldPassword: string;\n\n  @ApiProperty({ description: '新密码' })\n  @IsNotEmpty({ message: '新密码不能为空' })\n  @MinLength(6, { message: '新密码最少6位' })\n  newPassword: string;\n\n  @ApiProperty({ description: '确认密码' })\n  @IsNotEmpty({ message: '确认密码不能为空' })\n  @IsEqualWith('newPassword', { message: '两次输入的密码不一致' })\n  confirmPassword: string;\n}\n"],"names":["UpdateCurrentUserBaseDTO","UpdateCurrentUserPasswordDTO","ApiProperty","description","IsNotEmpty","message","IsPhoneNumber","IsEmail","enum","ENTITY_SEX","IsEnum","MinLength","IsEqualWith"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;;;;;;;;IAeaA,wBAAwB;eAAxBA;;IAyBAC,4BAA4B;eAA5BA;;;yBAxCe;4BACA;gCAOrB;2BAEoB;;;;;;;;;;AAKpB,IAAA,AAAMD,2BAAN,MAAMA;AAoBb;;IAnBGE,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;;GADxBH;;IAIVE,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;IAClCC,IAAAA,0BAAU,EAAC;QAAEC,SAAS;IAAW;IACjCC,IAAAA,6BAAa,EAAC,MAAM;QAAED,SAAS;IAAY;;GANjCL;;IASVE,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;IAClCC,IAAAA,0BAAU,EAAC;QAAEC,SAAS;IAAW;IACjCE,IAAAA,uBAAO,EAAC,CAAC,GAAG;QAAEF,SAAS;IAAY;;GAXzBL;;IAcVE,IAAAA,oBAAW,EAAC;QACXC,aAAa;QACbK,MAAMC,qBAAU;IAClB;IACCC,IAAAA,sBAAM,EAACD,qBAAU,EAAE;QAAEJ,SAAS;IAAQ;uCAClC,qBAAU,4BAAV,qBAAU;GAnBJL;AAyBN,IAAA,AAAMC,+BAAN,MAAMA;AAcb;;IAbGC,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAM;IACjCC,IAAAA,0BAAU,EAAC;QAAEC,SAAS;IAAU;;GAFtBJ;;IAKVC,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAM;IACjCC,IAAAA,0BAAU,EAAC;QAAEC,SAAS;IAAU;IAChCM,IAAAA,yBAAS,EAAC,GAAG;QAAEN,SAAS;IAAU;;GAPxBJ;;IAUVC,IAAAA,oBAAW,EAAC;QAAEC,aAAa;IAAO;IAClCC,IAAAA,0BAAU,EAAC;QAAEC,SAAS;IAAW;IACjCO,IAAAA,uBAAW,EAAC,eAAe;QAAEP,SAAS;IAAa;;GAZzCJ"}