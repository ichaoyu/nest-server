{"version":3,"sources":["../../../src/modules/auth/auth.controller.ts"],"sourcesContent":["import { Body, Controller, Get, Post } from '@nestjs/common';\nimport {\n  ApiBearerAuth,\n  ApiOkResponse,\n  ApiOperation,\n  ApiTags,\n} from '@nestjs/swagger';\n\nimport { Public } from '@/decorators';\n\nimport { LoginDTO } from './auth.dto';\nimport { AuthService } from './auth.service';\nimport { GetCaptchaVO, LoginVO } from './auth.vo';\n\n@ApiTags('鉴权接口')\n@Controller('/auth')\nexport class AuthController {\n  constructor(private authService: AuthService) {}\n\n  @ApiOperation({ summary: '获取验证码' })\n  @ApiOkResponse({ type: GetCaptchaVO })\n  @Public()\n  @Get('/captcha')\n  async getCaptcha() {\n    return await this.authService.handleGetCaptcha();\n  }\n\n  @ApiOperation({ summary: '登录' })\n  @ApiOkResponse({ type: LoginVO })\n  @Public()\n  @Post('/login')\n  async login(@Body() dto: LoginDTO) {\n    return await this.authService.handleLogin(dto);\n  }\n\n  @ApiBearerAuth()\n  @ApiOperation({ summary: '退出' })\n  @Post('/logout')\n  async logout() {\n    await this.authService.handleLogout();\n  }\n}\n"],"names":["AuthController","getCaptcha","authService","handleGetCaptcha","login","dto","handleLogin","logout","handleLogout","constructor","ApiOperation","summary","ApiOkResponse","type","GetCaptchaVO","Public","Get","LoginVO","Post","Body","ApiBearerAuth","ApiTags","Controller"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAgBaA;;;eAAAA;;;wBAhB+B;yBAMrC;4BAEgB;yBAEE;6BACG;wBACU;;;;;;;;;;;;;;;AAI/B,IAAA,AAAMA,iBAAN,MAAMA;IAGX,MAIMC,aAAa;QACjB,OAAO,MAAM,IAAI,CAACC,WAAW,CAACC,gBAAgB;IAChD;IAEA,MAIMC,MAAM,AAAQC,GAAa,EAAE;QACjC,OAAO,MAAM,IAAI,CAACH,WAAW,CAACI,WAAW,CAACD;IAC5C;IAEA,MAGME,SAAS;QACb,MAAM,IAAI,CAACL,WAAW,CAACM,YAAY;IACrC;IAvBAC,YAAY,AAAQP,WAAwB,CAAE;aAA1BA,cAAAA;IAA2B;AAwBjD;;IAtBGQ,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAQ;IAChCC,IAAAA,sBAAa,EAAC;QAAEC,MAAMC,oBAAY;IAAC;IACnCC,IAAAA,kBAAM;IACNC,IAAAA,WAAG,EAAC;;;;GANMhB;;IAWVU,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAK;IAC7BC,IAAAA,sBAAa,EAAC;QAAEC,MAAMI,eAAO;IAAC;IAC9BF,IAAAA,kBAAM;IACNG,IAAAA,YAAI,EAAC;IACOC,aAAAA,IAAAA,YAAI;;;eAAQ,iBAAQ,4BAAR,iBAAQ;;;GAftBnB;;IAmBVoB,IAAAA,sBAAa;IACbV,IAAAA,qBAAY,EAAC;QAAEC,SAAS;IAAK;IAC7BO,IAAAA,YAAI,EAAC;;;;GArBKlB;AAAAA;IAFZqB,IAAAA,gBAAO,EAAC;IACRC,IAAAA,kBAAU,EAAC;;;eAEuB,wBAAW,4BAAX,wBAAW;;GADjCtB"}