{"version":3,"sources":["../../../src/shared/captcha/captcha.module.ts"],"sourcesContent":["import { DynamicModule, Module } from '@nestjs/common';\n\nimport { CAPTCHA_SERVICE } from '@/constants';\nimport { CaptchaModuleOptions } from '@/interfaces';\nimport {\n  createCaptchaMergedOptions,\n  createCaptchaOptions,\n} from './captcha.providers';\nimport { CaptchaService } from './captcha.service';\n\nexport class CaptchaModule {\n  static registerAsync(params: CaptchaModuleOptions) {\n    const { global, optionsProvider } = params;\n\n    @Module({})\n    class CaptchaCoreModule {\n      static create(): DynamicModule {\n        return {\n          global,\n          module: CaptchaCoreModule,\n          providers: [\n            createCaptchaOptions(optionsProvider),\n            createCaptchaMergedOptions(),\n            {\n              provide: CAPTCHA_SERVICE,\n              useClass: CaptchaService,\n            },\n          ],\n          exports: [CAPTCHA_SERVICE],\n        };\n      }\n    }\n\n    return CaptchaCoreModule.create();\n  }\n}\n"],"names":["CaptchaModule","registerAsync","params","global","optionsProvider","CaptchaCoreModule","create","module","providers","createCaptchaOptions","createCaptchaMergedOptions","provide","CAPTCHA_SERVICE","useClass","CaptchaService","exports","Module"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAUaA;;;eAAAA;;;wBAVyB;2BAEN;kCAKzB;gCACwB;;;;;;;AAExB,IAAA,AAAMA,gBAAN,MAAMA;IACX,OAAOC,cAAcC,MAA4B,EAAE;QACjD,MAAM,EAAEC,MAAM,EAAEC,eAAe,EAAE,GAAGF;QAEpC,IAAA,AACMG,oBADN,MACMA;YACJ,OAAOC,SAAwB;gBAC7B,OAAO;oBACLH;oBACAI,QAAQF;oBACRG,WAAW;wBACTC,IAAAA,sCAAoB,EAACL;wBACrBM,IAAAA,4CAA0B;wBAC1B;4BACEC,SAASC,0BAAe;4BACxBC,UAAUC,8BAAc;wBAC1B;qBACD;oBACDC,SAAS;wBAACH,0BAAe;qBAAC;gBAC5B;YACF;QACF;QAhBMP;YADLW,IAAAA,cAAM,EAAC,CAAC;WACHX;QAkBN,OAAOA,kBAAkBC,MAAM;IACjC;AACF"}