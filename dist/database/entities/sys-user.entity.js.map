{"version":3,"sources":["../../../src/database/entities/sys-user.entity.ts"],"sourcesContent":["import {\n  Column,\n  CreateDateColumn,\n  Entity,\n  JoinColumn,\n  JoinTable,\n  ManyToMany,\n  OneToOne,\n  PrimaryGeneratedColumn,\n  UpdateDateColumn,\n} from 'typeorm';\n\nimport { ENTITY_DEL_FLAG, ENTITY_SEX, ENTITY_STATUS } from '@/constants';\n\nimport { SysDeptEntity, SysPostEntity, SysRoleEntity } from '.';\n\n/**\n * 系统用户表\n */\n@Entity({ name: 'sys_user' })\nexport class SysUserEntity {\n  /**\n   * 主键\n   */\n  @PrimaryGeneratedColumn({ name: 'id', type: 'bigint' })\n  id: string;\n\n  /**\n   * 用户账号\n   */\n  @Column({ name: 'user_name' })\n  userName: string;\n\n  /**\n   * 用户昵称\n   */\n  @Column({ name: 'nick_name' })\n  nickName: string;\n\n  /**\n   * 用户邮箱\n   */\n  @Column({ name: 'email' })\n  email: string;\n\n  /**\n   * 手机号码\n   */\n  @Column({ name: 'phone' })\n  phone: string;\n\n  /**\n   * 用户性别（0男 1女 2未知）\n   */\n  @Column({ name: 'sex', type: 'enum', enum: ENTITY_SEX })\n  sex: ENTITY_SEX;\n\n  /**\n   * 头像地址\n   */\n  @Column({ name: 'avatar' })\n  avatar: string;\n\n  /**\n   * 用户密码\n   */\n  @Column({ name: 'password', select: false })\n  password: string;\n\n  /**\n   * 状态（0正常 1停用）\n   */\n  @Column({ name: 'status', type: 'enum', enum: ENTITY_STATUS })\n  status: ENTITY_STATUS;\n\n  /**\n   * 删除标志（0存在 2删除）\n   */\n  @Column({ name: 'del_flag', type: 'enum', enum: ENTITY_DEL_FLAG })\n  delFlag: ENTITY_DEL_FLAG;\n\n  /**\n   * 最后登录 IP\n   */\n  @Column({ name: 'login_ip' })\n  loginIp: string;\n\n  /**\n   * 最后登录时间\n   */\n  @Column({ name: 'login_date' })\n  loginDate: Date;\n\n  /**\n   * 备注\n   */\n  @Column({ name: 'remark' })\n  remark: string;\n\n  /**\n   * 创建者\n   */\n  @Column({ name: 'create_by' })\n  createBy: string;\n\n  /**\n   * 创建时间\n   */\n  @CreateDateColumn({ name: 'create_time' })\n  createTime: Date;\n\n  /**\n   * 更新者\n   */\n  @Column({ name: 'update_by' })\n  updateBy: string;\n\n  /**\n   * 更新时间\n   */\n  @UpdateDateColumn({ name: 'update_time' })\n  updateTime: Date;\n\n  /**\n   * 关联部门表\n   */\n  @OneToOne(() => SysDeptEntity)\n  @JoinColumn({ name: 'dept_id' })\n  dept: SysDeptEntity;\n\n  /**\n   * 关联角色表\n   */\n  @ManyToMany(() => SysRoleEntity, (role) => role.users)\n  @JoinTable({\n    name: 'sys_user_role',\n    joinColumn: { name: 'user_id' },\n    inverseJoinColumn: { name: 'role_id' },\n  })\n  roles: SysRoleEntity[];\n\n  /**\n   * 关联岗位表\n   */\n  @ManyToMany(() => SysPostEntity, (post) => post.users)\n  @JoinTable({\n    name: 'sys_user_post',\n    joinColumn: { name: 'user_id' },\n    inverseJoinColumn: { name: 'post_id' },\n  })\n  posts: SysPostEntity[];\n}\n"],"names":["SysUserEntity","PrimaryGeneratedColumn","name","type","Column","enum","ENTITY_SEX","select","ENTITY_STATUS","ENTITY_DEL_FLAG","CreateDateColumn","UpdateDateColumn","OneToOne","SysDeptEntity","JoinColumn","ManyToMany","SysRoleEntity","role","users","JoinTable","joinColumn","inverseJoinColumn","SysPostEntity","post","Entity"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAoBaA;;;eAAAA;;;yBAVN;2BAEoD;kBAEC;;;;;;;;;;AAMrD,IAAA,AAAMA,gBAAN,MAAMA;AAmIb;;IA/HGC,IAAAA,+BAAsB,EAAC;QAAEC,MAAM;QAAMC,MAAM;IAAS;;GAJ1CH;;IAUVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAY;;GAVjBF;;IAgBVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAY;;GAhBjBF;;IAsBVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAQ;;GAtBbF;;IA4BVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAQ;;GA5BbF;;IAkCVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;QAAOC,MAAM;QAAQE,MAAMC,qBAAU;IAAC;uCACjD,qBAAU,4BAAV,qBAAU;GAnCJN;;IAwCVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAS;;GAxCdF;;IA8CVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;QAAYK,QAAQ;IAAM;;GA9C/BP;;IAoDVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;QAAUC,MAAM;QAAQE,MAAMG,wBAAa;IAAC;uCACpD,wBAAa,4BAAb,wBAAa;GArDVR;;IA0DVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;QAAYC,MAAM;QAAQE,MAAMI,0BAAe;IAAC;uCACvD,0BAAe,4BAAf,0BAAe;GA3DbT;;IAgEVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAW;;GAhEhBF;;IAsEVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAa;uCAClB,gCAAA;GAvEAF;;IA4EVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAS;;GA5EdF;;IAkFVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAY;;GAlFjBF;;IAwFVU,IAAAA,yBAAgB,EAAC;QAAER,MAAM;IAAc;uCAC5B,gCAAA;GAzFDF;;IA8FVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAY;;GA9FjBF;;IAoGVW,IAAAA,yBAAgB,EAAC;QAAET,MAAM;IAAc;uCAC5B,gCAAA;GArGDF;;IA0GVY,IAAAA,iBAAQ,EAAC,IAAMC,eAAa;IAC5BC,IAAAA,mBAAU,EAAC;QAAEZ,MAAM;IAAU;uCACxB,eAAa,4BAAb,eAAa;GA5GRF;;IAiHVe,IAAAA,mBAAU,EAAC,IAAMC,eAAa,EAAE,CAACC,OAASA,KAAKC,KAAK;IACpDC,IAAAA,kBAAS,EAAC;QACTjB,MAAM;QACNkB,YAAY;YAAElB,MAAM;QAAU;QAC9BmB,mBAAmB;YAAEnB,MAAM;QAAU;IACvC;;GAtHWF;;IA4HVe,IAAAA,mBAAU,EAAC,IAAMO,eAAa,EAAE,CAACC,OAASA,KAAKL,KAAK;IACpDC,IAAAA,kBAAS,EAAC;QACTjB,MAAM;QACNkB,YAAY;YAAElB,MAAM;QAAU;QAC9BmB,mBAAmB;YAAEnB,MAAM;QAAU;IACvC;;GAjIWF;AAAAA;IADZwB,IAAAA,eAAM,EAAC;QAAEtB,MAAM;IAAW;GACdF"}