{"version":3,"sources":["../../../src/database/entities/sys-role.entity.ts"],"sourcesContent":["import {\n  Column,\n  CreateDateColumn,\n  Entity,\n  JoinTable,\n  ManyToMany,\n  PrimaryGeneratedColumn,\n  UpdateDateColumn,\n} from 'typeorm';\n\nimport { ENTITY_DEL_FLAG, ENTITY_STATUS } from '@/constants';\n\nimport { SysDeptEntity, SysMenuEntity, SysUserEntity } from '.';\n\n/**\n * 系统角色表\n */\n@Entity({ name: 'sys_role' })\nexport class SysRoleEntity {\n  /**\n   * 主键\n   */\n  @PrimaryGeneratedColumn({ name: 'id', type: 'bigint' })\n  id: string;\n\n  /**\n   * 角色名称\n   */\n  @Column({ name: 'role_name' })\n  roleName: string;\n\n  /**\n   * 角色权限字符串\n   */\n  @Column({ name: 'role_key' })\n  roleKey: string;\n\n  /**\n   * 显示顺序\n   */\n  @Column({ name: 'role_sort' })\n  roleSort: number;\n\n  /**\n   * 状态（0正常 1停用）\n   */\n  @Column({ name: 'status', type: 'enum', enum: ENTITY_STATUS })\n  status: ENTITY_STATUS;\n\n  /**\n   * 删除标志（0存在 2删除）\n   */\n  @Column({ name: 'del_flag', type: 'enum', enum: ENTITY_DEL_FLAG })\n  delFlag: ENTITY_DEL_FLAG;\n\n  /**\n   * 备注\n   */\n  @Column({ name: 'remark' })\n  remark: string;\n\n  /**\n   * 创建者\n   */\n  @Column({ name: 'create_by' })\n  createBy: string;\n\n  /**\n   * 创建时间\n   */\n  @CreateDateColumn({ name: 'create_time' })\n  createTime: Date;\n\n  /**\n   * 更新者\n   */\n  @Column({ name: 'update_by' })\n  updateBy: string;\n\n  /**\n   * 更新时间\n   */\n  @UpdateDateColumn({ name: 'update_time' })\n  updateTime: Date;\n\n  /**\n   * 关联用户表\n   */\n  @ManyToMany(() => SysUserEntity, (user) => user.roles)\n  users: SysUserEntity[];\n\n  /**\n   * 关联部门表\n   */\n  @ManyToMany(() => SysDeptEntity, (dept) => dept.roles)\n  @JoinTable({\n    name: 'sys_role_dept',\n    joinColumn: { name: 'role_id' },\n    inverseJoinColumn: { name: 'dept_id' },\n  })\n  depts: SysDeptEntity[];\n\n  /**\n   * 关联菜单表\n   */\n  @ManyToMany(() => SysMenuEntity, (menu) => menu.roles)\n  @JoinTable({\n    name: 'sys_role_menu',\n    joinColumn: { name: 'role_id' },\n    inverseJoinColumn: { name: 'menu_id' },\n  })\n  menus: SysMenuEntity[];\n}\n"],"names":["SysRoleEntity","PrimaryGeneratedColumn","name","type","Column","enum","ENTITY_STATUS","ENTITY_DEL_FLAG","CreateDateColumn","UpdateDateColumn","ManyToMany","SysUserEntity","user","roles","SysDeptEntity","dept","JoinTable","joinColumn","inverseJoinColumn","SysMenuEntity","menu","Entity"],"rangeMappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","mappings":";;;;+BAkBaA;;;eAAAA;;;yBAVN;2BAEwC;kBAEa;;;;;;;;;;AAMrD,IAAA,AAAMA,gBAAN,MAAMA;AA8Fb;;IA1FGC,IAAAA,+BAAsB,EAAC;QAAEC,MAAM;QAAMC,MAAM;IAAS;;GAJ1CH;;IAUVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAY;;GAVjBF;;IAgBVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAW;;GAhBhBF;;IAsBVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAY;;GAtBjBF;;IA4BVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;QAAUC,MAAM;QAAQE,MAAMC,wBAAa;IAAC;uCACpD,wBAAa,4BAAb,wBAAa;GA7BVN;;IAkCVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;QAAYC,MAAM;QAAQE,MAAME,0BAAe;IAAC;uCACvD,0BAAe,4BAAf,0BAAe;GAnCbP;;IAwCVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAS;;GAxCdF;;IA8CVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAY;;GA9CjBF;;IAoDVQ,IAAAA,yBAAgB,EAAC;QAAEN,MAAM;IAAc;uCAC5B,gCAAA;GArDDF;;IA0DVI,IAAAA,eAAM,EAAC;QAAEF,MAAM;IAAY;;GA1DjBF;;IAgEVS,IAAAA,yBAAgB,EAAC;QAAEP,MAAM;IAAc;uCAC5B,gCAAA;GAjEDF;;IAsEVU,IAAAA,mBAAU,EAAC,IAAMC,eAAa,EAAE,CAACC,OAASA,KAAKC,KAAK;;GAtE1Cb;;IA4EVU,IAAAA,mBAAU,EAAC,IAAMI,eAAa,EAAE,CAACC,OAASA,KAAKF,KAAK;IACpDG,IAAAA,kBAAS,EAAC;QACTd,MAAM;QACNe,YAAY;YAAEf,MAAM;QAAU;QAC9BgB,mBAAmB;YAAEhB,MAAM;QAAU;IACvC;;GAjFWF;;IAuFVU,IAAAA,mBAAU,EAAC,IAAMS,eAAa,EAAE,CAACC,OAASA,KAAKP,KAAK;IACpDG,IAAAA,kBAAS,EAAC;QACTd,MAAM;QACNe,YAAY;YAAEf,MAAM;QAAU;QAC9BgB,mBAAmB;YAAEhB,MAAM;QAAU;IACvC;;GA5FWF;AAAAA;IADZqB,IAAAA,eAAM,EAAC;QAAEnB,MAAM;IAAW;GACdF"}